<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Logs A❤️X</title>
<link rel="icon" type="image/png" href="img/axyoume2.png">

    <script src="https://cdn.tailwindcss.com"></script>

    <!-- FUENTE TIPO CARTA -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Parisienne&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="css/style.css">
    <style>
        .parisienne-regular {
            font-family: "Parisienne", serif;
            font-weight: 600;
            font-style: normal;
        }
    </style>
</head>

<body class="bg-pink-200 text-white font-sans p-4">


<h2>visitasTableHome</h2>
<table id="visitasTableHome" border="1">
  <thead>
    <tr>
      <th>ID</th>
      <th>Fecha</th>
      <th>Hora</th>
      <th>Ciudad</th>
    </tr>
  </thead>
  <tbody></tbody>
</table>





    
    <script src="https://www.gstatic.com/firebasejs/11.3.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/11.3.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/11.3.0/firebase-firestore-compat.js"></script>






    <script>


        firebase.initializeApp({
            apiKey: "AIzaSyD9J1OorCJq9OpXNJbmRQyFg-4oP1IgdPI",
            authDomain: "axyoume.firebaseapp.com",
            projectId: "axyoume",
            storageBucket: "axyoume.firebasestorage.app",
            messagingSenderId: "447974722638",
            appId: "1:447974722638:web:b54d513c273b79e80cc71f"
        });

        const db = firebase.firestore();

 



// Cargar visitas solo de "Santiago"
function cargarVisitasHome() {
    db.collection("axvisitashome")
        .where("city", "==", "Santiago")
        .get()
        .then((querySnapshot) => {
            const tableBody = document.querySelector("#visitasTableHome");
            tableBody.innerHTML = ""; // Limpiar contenido anterior

            if (querySnapshot.empty) {
                const row = document.createElement("tr");
                row.innerHTML = `<td colspan="4">No hay registros para Santiago.</td>`;
                tableBody.appendChild(row);
                return;
            }

            querySnapshot.forEach((doc) => {
                const data = doc.data();
                const row = document.createElement("tr");

                row.innerHTML = `
                    <td>${doc.id}</td>
                    <td>${data.date}</td>
                    <td>${data.time}</td>
                    <td>${data.city}</td>
                `;

                tableBody.appendChild(row);
            });
        })
        .catch((error) => {
            console.error("Error al obtener los datos:", error);
        });
}

// Llama a la función al cargar la página
cargarVisitasHome();

</script>

</body>
</html>